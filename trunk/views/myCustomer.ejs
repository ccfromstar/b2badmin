<script>
    var _tablename = "mycustomer";
    $("#collapse12").attr("class","panel-collapse collapse in");
    $("#collapse1_all").attr("class","panel-collapse collapse in");

    function _newForm(){
        $.ajax({ type:"POST" , url: "mycustomer/insert", data:{
                col0:$("#col0").val(),
                col1:$("#col1").val(),
                col2:$("#col2").val(),
                col3:$("#col3").val(),
                col4:$("#col4").val(),
                col5:$("#col5").val(),
                col6:$("#col6").val(),
                col7:$("#col7").val(),
                col8:$("#col8").val(),
                col9:"",
                user_id:$("#n_user_id").val(),
                }, success: function(data){
                    if(data==200){
                        $("#content_info").html("新建成功！");
                        $('#infoModal').modal('show');
                        $('#addModal').modal('hide');
                        $("#refresh").trigger("click");
                    }
        }});
    }

    function _newForm1(){
    	$.ajax({ type:"POST" , url: _tablename+"/updateRecord", data:{
          col0:$("#coln0").val(),
                col1:$("#coln1").val(),
                col2:$("#coln2").val(),
                col3:$("#coln3").val(),
                col4:$("#coln4").val(),
                col5:$("#coln5").val(),
                col6:$("#coln6").val(),
                col7:$("#coln7").val(),
                col8:$("#coln8").val(),
                col9:"",
                user_id:$("#n_user_id1").val(),
                id:$("#n_id1").val()
    			}, success: function(data){
    				if(data==200){
    					$("#content_info").html("更新成功！");
            			$('#infoModal').modal('show');
            			$('#editModal').modal('hide');
            			$("#refresh").trigger("click");
    				}
        }});
    }

    function editinfo(id){
        //根据id读取字段
        $.ajax({ type:"POST" , url: _tablename+"/getinfo", data:{id:id}, success: function(data){
               $("#coln0").val(data[0].col0); 
               $("#coln1").val(data[0].col1); 
               $("#coln2").val(data[0].col2); 
               $("#coln3").val(data[0].col3); 
               $("#coln4").val(data[0].col4); 
               $("#coln5").val(data[0].col5); 
               $("#coln6").val(data[0].col6); 
               $("#coln7").val(data[0].col7); 
               $("#coln8").val(data[0].col8); 
               $("#n_user_id1").val(data[0].user_id);
               $("#n_id1").val(id);
        }});
        $('#editModal').modal('show');
    }
</script>

<div class="modal fade" data-backdrop="static" id="addModal" tabindex="-1" role="dialog" 
   aria-labelledby="myModalLabel2" aria-hidden="true">
   <div class="modal-dialog" id="_dialogstyle" style="width:600px">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
               data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <div class="modal-title" id="myModalLabel">新建</div>
         </div>
         <div class="modal-body">
             <table class="table table-bordered">
                <tr>
                    <td >状态</td>
                    <td style="width:450px">
                    <select id="col0" class="input-sm selectpicker">
                      <option value="可售">可售</option>
                      <option value="结束">结束</option>
                    </select>
                    </td>
                </tr>   
                <tr>
                    <td>航线地区</td>
                    <td>
                      <select id="col1" class="input-sm selectpicker">
                      <option value="国内">国内</option>
                      <option value="海外">海外</option>
                    </select>
                    </td>
                </tr>
                <tr>
                    <td>更新日期</td>
                    <td><input type="text"  style="cursor:pointer" readonly  class="Wdate" onfocus="WdatePicker({doubleCalendar:false,dateFmt:'yyyy-MM-dd'})" id="col2"></input></td>
                </tr>
                <tr>
                    <td>航次日期</td>
                    <td><input type="text"  style="cursor:pointer" readonly  class="Wdate" onfocus="WdatePicker({doubleCalendar:false,dateFmt:'yyyy-MM-dd'})" id="col3"></input></td>
                </tr>
                <tr>
                    <td>航线</td>
                    <td><input type="text" class="input-sm form-control" id="col4"></input></td>
                </tr>
                <tr>
                    <td>直客价</td>
                    <td><input type="text" class="input-sm form-control" id="col5"></input></td>
                </tr>
                <tr>
                    <td>结算价</td>
                    <td><input type="text" class="input-sm form-control" id="col6"></input></td>
                </tr>
                <tr>
                    <td>收客说明</td>
                    <td><input type="text" class="input-sm form-control" id="col7"></input></td>
                </tr>
                <tr>
                    <td>供应商</td>
                    <td><input type="text" class="input-sm form-control" id="col8"></input></td>
                </tr>
                <tr>
                    <td>录入人ID</td>
                    <td><input type="text" class="input-sm form-control" id="n_user_id"  disabled ></input></td>
                </tr>
                <tr>
                    <td>时间</td>
                    <td><input type="text" class="input-sm form-control" id="n_time" disabled ></input></td>
                </tr>
             </table>
         </div>
         <div class="modal-footer" id="_footer">
            <button type="button" class="btn btn-default btn-xs" onclick="_newForm()">提交
            </button>
            <button type="button" class="btn btn-default btn-xs" 
               data-dismiss="modal">关闭
            </button>
         </div>
      </div><!-- /.modal-content -->
    </div>
</div><!-- /.modal -->



<div class="modal fade" data-backdrop="static" id="editModal" tabindex="-1" role="dialog" 
   aria-labelledby="myModalLabel2" aria-hidden="true">
   <div class="modal-dialog" id="_dialogstyle" style="width:600px">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
               data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <div class="modal-title" id="myModalLabel">编辑</div>
         </div>
         <div class="modal-body">
             <table class="table table-bordered">
                <tr>
                    <td >状态</td>
                    <td style="width:450px">
                    <select id="coln0" class="input-sm selectpicker">
                      <option value="可售">可售</option>
                      <option value="结束">结束</option>
                    </select>
                    </td>
                </tr>   
                <tr>
                    <td>航线地区</td>
                    <td>
                      <select id="coln1" class="input-sm selectpicker">
                      <option value="国内">国内</option>
                      <option value="海外">海外</option>
                    </select>
                    </td>
                </tr>
                <tr>
                    <td>更新日期</td>
                    <td><input type="text"  style="cursor:pointer" readonly  class="Wdate" onfocus="WdatePicker({doubleCalendar:false,dateFmt:'yyyy-MM-dd'})" id="coln2"></input></td>
                </tr>
                <tr>
                    <td>航次日期</td>
                    <td><input type="text"  style="cursor:pointer" readonly  class="Wdate" onfocus="WdatePicker({doubleCalendar:false,dateFmt:'yyyy-MM-dd'})" id="coln3"></input></td>
                </tr>
                <tr>
                    <td>航线</td>
                    <td><input type="text" class="input-sm form-control" id="coln4"></input></td>
                </tr>
                <tr>
                    <td>直客价</td>
                    <td><input type="text" class="input-sm form-control" id="coln5"></input></td>
                </tr>
                <tr>
                    <td>结算价</td>
                    <td><input type="text" class="input-sm form-control" id="coln6"></input></td>
                </tr>
                <tr>
                    <td>收客说明</td>
                    <td><input type="text" class="input-sm form-control" id="coln7"></input></td>
                </tr>
                <tr>
                    <td>供应商</td>
                    <td><input type="text" class="input-sm form-control" id="coln8"></input></td>
                </tr>
                <tr>
                    <td>录入人ID</td>
                    <td><input type="text" class="input-sm form-control" id="n_user_id1"  disabled ></input></td>
                </tr>
                <tr style="display:none">
                    <td>时间</td>
                    <td><input type="text" class="input-sm form-control" id="n_time1" disabled ></input></td>
                </tr>
                <tr style="display:none">
                    <td></td>
                    <td><input type="text" class="input-sm form-control" id="n_id1" disabled ></input></td>
                </tr>
             </table>
         </div>
         <div class="modal-footer" id="_footer">
            <button type="button" class="btn btn-default btn-xs" onclick="_newForm1()">提交
            </button>
            <button type="button" class="btn btn-default btn-xs" 
               data-dismiss="modal">关闭
            </button>
         </div>
      </div><!-- /.modal-content -->
    </div>
</div><!-- /.modal -->
